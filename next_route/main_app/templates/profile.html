{% extends 'base.html' %}
{% block title %} {{user_profile.username}}'s Profile Page {% endblock %}
{% block content %}
    <div class="profile-page-container">
        <!-- Profile Card -->
        <div class="profile-page-card-container">
            <div class="profile-page-image-container">
                <img src="https://cultivatedculture.com/wp-content/uploads/2019/12/LinkedIn-Profile-Picture-Example-Madeline-Mann.jpeg" alt="" class="profile-user-image">
            </div>
            <div class="profile-username-text">{{ user_profile.username }}</div>
            {% if user.is_authenticated and user.username == user_profile.username %}
                <!-- <div class="edit_profile_button">Edit Profile</div> -->
            {% endif %}
            <hr class="profile-page-card-divider">
            <div class="profile-page-card-info">
                <div class="profile-page-individual-info">
                    <span class="profile-page-card-text-title">Location:</span>
                    <span class="profile-page-card-text">{{ user.location }}</span>
                </div>
                <div class="profile-page-individual-info">
                    <span class="profile-page-card-text-title">Date Joined:</span>
                    <span class="profile-page-card-text">{{ user.date_joined }}</span>
                </div>
            </div>
        </div>
        <div class="profile-page-routes-reviews-top-section">
            <h4 class="profile-page-route-review-num">
                <p class="user_routes_header show profile-page-num-results">{{ routes.count }} Route(s) from {{user_profile.username}}</p>
                <p class="user_reviews_header no-show profile-page-num-results">{{ reviews.count }} Review(s) from {{user_profile.username}}</p>
            </h4>
            <div class="profile-route-review-slider">
                <div class="user_routes_button profile-slider-text profile-slider-green-option">Routes</div>
                <div class="user_reviews_button profile-slider-text profile-slider-white-option">Reviews</div>
            </div>
        </div>
        <div class="user_routes show">
            {% for route in routes %}
            {% empty %}
                <p>No Routes Yet from {{ user_profile.username }}</p>
            {% endfor %}
        </div>
        <div class="user_reviews no-show">
            <!-- Look at having the backend send a number of objects being sent instead. -->
            {% for review in reviews %}
            {% empty %}
                <p> No Reviews Yet from {{ user_profile.username }}</p>
            {% endfor %}
        </div>
    </div>
    {% if user.is_authenticated and user.username == user_profile.username %}
        <div class="edit_profile_container no-show">
            <form action="/accounts/{{ user_profile.pk }}/edit/" method="post">
                {% csrf_token %}
                <label for="location">Location</label>
                <input type="text" name="location" id="location">
                <label for="password">Password</label>
                <input type="password" name="password" id="password" class="password-required">
                <label for="password">Re-Enter Password</label>
                <input type="password" name="password_reenter" id="password_reenter">
                <p class="password-message no-show">Passwords must be matching</p>
                <label for="image">Profile Image</label>
                <input type="file" name="image" id="image">
                <div class="edit_profile_cancel_button">Cancel</div>
                <input type="submit">
            </form>
        </div>
    {% endif %}
{% endblock %}